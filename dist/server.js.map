{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/process/browser.js","webpack:///./src/config/i18n.js","webpack:///./src/config/index.js","webpack:///./src/config/secret.js","webpack:///./src/controller/userController.js","webpack:///./src/db/config/index.js","webpack:///./src/db/config/swagger.js","webpack:///./src/db/constant/regexp.js","webpack:///./src/db/models/User.js","webpack:///./src/locales/en.js","webpack:///./src/routes/userRoute.js","webpack:///./src/server/server-dev.js","webpack:///external \"boom\"","webpack:///external \"crypto\"","webpack:///external \"fastify\"","webpack:///external \"fastify-swagger\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"lodash\"","webpack:///external \"mongoose\"","webpack:///external \"mongoose-unique-validator\""],"names":["i18n","name","language","get","i18nText","en","localesEn","secret","getUsers","req","reply","users","User","find","err","boom","boomify","getUserById","id","params","user","findById","addUser","body","save","updateUser","updateData","update","findByIdAndUpdate","new","deleteUser","findByIdAndRemove","server","database","Database","constructor","_connect","mongoose","connect","useNewUrlParser","reconnectTries","Number","MAX_VALUE","reconnectInterval","poolSize","bufferMaxEntries","connectTimeoutMS","family","then","console","log","catch","error","exports","options","routePrefix","exposeRoute","swagger","info","title","description","version","externalDocs","url","host","schemes","consumes","produces","nameRegExp","emailRegExp","UserSchema","Schema","username","type","String","lowercase","required","match","index","email","bio","image","hash","salt","timestamps","plugin","uniqueValidator","message","encryPassword","password","crypto","pbkdf2Sync","toString","methods","setPassword","randomBytes","halt","validPassword","generateJWT","today","Date","exp","setDate","getDate","jwt","sign","_id","parseInt","getTime","toAuthJSON","token","UserModel","model","validate","blank","invalid","taken","routes","method","handler","fastify","require","logger","forEach","route","register","start","listen","address","port","db","Connection","process","exit"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AAC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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/server-dev.js\");\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { get } from 'lodash';\nimport { localesEn } from '../locales/en';\n\nexport const i18n = (name, language = 'en') => get(i18nText, `${language}.${name}`, {});\n\nconst i18nText = {\n  en: {\n    ...localesEn,\n  }\n}","export { i18n } from './i18n';\nexport { secret } from './secret';\n","export const secret = \"0213213\"","import boom from 'boom';\n\nimport { User } from '../db/models/User';\n\nexport const getUsers = async(req, reply) => {\n  try {\n    const users = await User.find()\n  } catch (err) {\n    throw boom.boomify(err)\n  }\n}\n\nexport const getUserById = async(req, reply) => {\n  try {\n    const id = req.params.id\n    const user = await User.findById(id)\n    return user\n  } catch (err) {\n    throw boom.boomify(err)\n  }\n}\n\nexport const addUser = async(req, reply) => {\n  try {\n    const user = new User(req.body)\n    return user.save()\n  } catch (err) {\n    throw boom.boomify(err)\n  }\n}\n\nexport const updateUser = async(req, reply) => {\n  try  {\n    const id = req.params.id\n    const user = req.body\n    const {...updateData} = user\n    const update = await User.findByIdAndUpdate(id, updateData, { new: true })\n    return update\n  } catch (err) {\n    throw boom.boomify(err)\n  }\n}\n\nexport const deleteUser = async(req, reply) => {\n  try {\n    const id = req.params.id\n    const user = await User.findByIdAndRemove(id)\n    return user\n  } catch (err) {\n    throw boom.boomify(err)\n  }\n}\n","import mongoose from 'mongoose';\n\nconst server = '127.0.0.1:27017';\nconst database = 'YalvDb';\n\nexport default class Database {\n  constructor() {\n    this._connect()\n  }\n\n  _connect() {\n    mongoose.connect(`mongodb://${server}/${database}`, {\n      useNewUrlParser: true,\n      reconnectTries: Number.MAX_VALUE,\n      reconnectInterval: 500,\n      poolSize: 10,\n      bufferMaxEntries: 0,\n      connectTimeoutMS: 10000,\n      family: 4,\n    })\n    .then(() => {\n      console.log('Database connection succesful')\n    })\n    .catch(err => {\n      console.error(`Database connection error => ${err}`)\n    })\n  }\n}\n\nexport { options } from './swagger'\n","exports.options = {\n  routePrefix: '/documentation',\n  exposeRoute: true,\n  swagger: {\n    info: {\n      title: 'Fastify API',\n      description: 'Ziik-Yalv',\n      version: '1.0.0'\n    },\n    externalDocs: {\n      url: 'https://swagger.io',\n      description: 'Find more info here'\n    },\n    host: 'localhost',\n    schemes: ['http'],\n    consumes: ['application/json'],\n    produces: ['application/json']\n  }\n}","export const nameRegExp = /^[a-zA-Z0-9]+$/;\nexport const emailRegExp = /\\S+@\\S+\\.\\S+/;","import mongoose from 'mongoose';\nimport uniqueValidator from 'mongoose-unique-validator';\nimport crypto from 'crypto';\nimport jwt from 'jsonwebtoken';\n\nimport { nameRegExp, emailRegExp } from '../constant/regexp';\nimport { i18n, secret } from '../../config';\n\n//Schema Defining\nconst UserSchema = new mongoose.Schema({\n  username: {\n    type: String,\n    lowercase: true,\n    required: [true, i18n('validate.blank')],\n    match: [nameRegExp, i18n('validate.invalid')],\n    index: true,\n  },\n  email: {\n    type: String,\n    lowercase: true,\n    required: [true, i18n('validate.blank')],\n    match: [emailRegExp,i18n('validate.invalid')]\n  },\n  bio: String,\n  image: String,\n  hash: String,\n  salt: String,\n}, { timestamps: true});\n\nUserSchema.plugin(uniqueValidator, { message: i18n('validate.taken') })\n\n//Methods Defining\nconst encryPassword = (password, salt) => crypto.pbkdf2Sync(password, salt, 10000, 512, 'sha512').toString('hex');\n\nUserSchema.methods.setPassword = (password) => {\n  this.salt = crypto.randomBytes(16).toString('hex');\n  this.halt = encryPassword(password, this.salt);\n}\n\nUserSchema.methods.validPassword = (password) => {\n  const hash = encryPassword(password, this.salt);\n  return this.hash === hash;\n}\n\nUserSchema.methods.generateJWT = () => {\n  const today = new Date();\n  const exp = new Date(today);\n  exp.setDate(today.getDate() + 60);\n\n  return jwt.sign({\n    id: this._id,\n    username: this.username,\n    exp: parseInt(exp.getTime() / 1000)\n  }, secret)\n}\n\nUserSchema.methods.toAuthJSON = () => ({\n  username: this.username,\n  email: this.email,\n  token: this.generateJWT(),\n  bio: this.bio,\n  image: this.image,\n})\n\nexport const UserModel = mongoose.model('User', UserSchema)","export const localesEn = {\n  validate: {\n    blank: \"Can not be blank\",\n    invalid: \"is Invalid\",\n    taken: 'is already taken. '\n }\n}","import { getUserById, addUser, getUsers, updateUser, deleteUser } from '../controller/userController';\n\nconst routes = [{\n    method: 'GET',\n    url: '/api/users',\n    handler: getUsers\n  },\n  {\n    method: 'GET',\n    url: '/api/users/:id',\n    handler: getUserById\n  },\n  {\n    method: 'POST',\n    url: '/api/users',\n    handler: addUser,\n  },\n  {\n    method: 'PUT',\n    url: '/api/users/:id',\n    handler: updateUser\n  },\n  {\n    method: 'DELETE',\n    url: '/api/users/:id',\n    handler: deleteUser\n  }\n]\n\nexport default routes;","\nimport swaggerFastify from 'fastify-swagger';\n\nimport Connection from '../db/config/index'\nimport swagger from '../db/config/swagger';\nimport routes from '../routes/userRoute';\n\nconst fastify = require('fastify')({\n  logger: true\n})\n\nroutes.forEach((route, index) => [\n  fastify.route(route)\n])\n\n//Config Swagger\nfastify.register(require('fastify-swagger'), swagger.options)\n\n\n// Start Server\nconst start = async () => {\n  try {\n    await fastify.listen(3000)\n    fastify.swagger()\n    fastify.log.info(`server listening on ${fastify.server.address().port}`)\n    const db = new Connection();\n  } catch (err) {\n    fastify.log.error(err)\n    process.exit(1)\n  }\n}\nstart()\n\n","module.exports = require(\"boom\");","module.exports = require(\"crypto\");","module.exports = require(\"fastify\");","module.exports = require(\"fastify-swagger\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"lodash\");","module.exports = require(\"mongoose\");","module.exports = require(\"mongoose-unique-validator\");"],"sourceRoot":""}